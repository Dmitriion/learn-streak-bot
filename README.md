
# Telegram Mini App - –û–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –ú–µ–Ω—Ç–æ—Ä–∏–Ω–≥–∞

## üéØ –û–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞

–≠—Ç–æ –ø–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ Telegram Mini App –¥–ª—è –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –ø–æ –∫–æ—É—á–∏–Ω–≥—É –∏ –º–µ–Ω—Ç–æ—Ä–∏–Ω–≥—É. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ—Å—Ç—Ä–æ–µ–Ω–æ –Ω–∞ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤–µ–±-—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è—Ö —Å –ø–æ–ª–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π –≤ —ç–∫–æ—Å–∏—Å—Ç–µ–º—É Telegram –∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–µ–π —á–µ—Ä–µ–∑ N8N.

**URL –ø—Ä–æ–µ–∫—Ç–∞**: https://lovable.dev/projects/edc32e98-34f5-4b25-a123-a37e7dfea43e

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫
- **Frontend**: React 18 + TypeScript + Vite
- **UI Framework**: Tailwind CSS + Shadcn/ui
- **State Management**: TanStack Query + React Context
- **Telegram Integration**: @twa-dev/sdk + Custom Telegram WebApp API
- **Automation**: N8N Webhook Integration
- **Analytics**: Recharts + Custom Analytics Services
- **Validation**: Zod schemas
- **Performance**: PWA + Service Worker

### –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏
‚úÖ **100% Production Ready** –¥–ª—è Telegram Mini App  
‚úÖ **–ê–≤—Ç–æ–Ω–æ–º–Ω–∞—è —Ä–∞–±–æ—Ç–∞** –±–µ–∑ –±—ç–∫–µ–Ω–¥–∞ (Mock Backend Service)  
‚úÖ **N8N –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤  
‚úÖ **PWA –ø–æ–¥–¥–µ—Ä–∂–∫–∞** —Å Service Worker  
‚úÖ **–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω** –ø–æ–¥ Telegram –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å  
‚úÖ **TypeScript —Å—Ç—Ä–æ–≥–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è**  
‚úÖ **–ü—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞** –æ–±—É—á–µ–Ω–∏—è –∏ –ø–æ–≤–µ–¥–µ–Ω–∏—è  

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
src/
‚îú‚îÄ‚îÄ components/           # UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ app/             # –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ telegram/        # Telegram-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ ui/              # –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (Shadcn)
‚îÇ   ‚îú‚îÄ‚îÄ settings/        # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –Ω–∞—Å—Ç—Ä–æ–µ–∫
‚îÇ   ‚îú‚îÄ‚îÄ automation/      # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏
‚îÇ   ‚îî‚îÄ‚îÄ subscription/    # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø–æ–¥–ø–∏—Å–∫–∏
‚îú‚îÄ‚îÄ hooks/               # React —Ö—É–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ telegram/        # Telegram WebApp —Ö—É–∫–∏
‚îÇ   ‚îî‚îÄ‚îÄ *.ts            # –û–±—â–∏–µ —Ö—É–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ services/            # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –∏ —Å–µ—Ä–≤–∏—Å—ã
‚îÇ   ‚îú‚îÄ‚îÄ auth/           # –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ automation/     # N8N –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ analytics/      # –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –º–µ—Ç—Ä–∏–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ registration/   # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
‚îÇ   ‚îî‚îÄ‚îÄ *.ts           # –û—Å–Ω–æ–≤–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã
‚îú‚îÄ‚îÄ pages/              # –°—Ç—Ä–∞–Ω–∏—Ü—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ types/              # TypeScript —Ç–∏–ø—ã
‚îî‚îÄ‚îÄ providers/          # React –∫–æ–Ω—Ç–µ–∫—Å—Ç—ã
```

## üîß –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã

### 1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
**–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∑–∞–≥—Ä—É–∑–∫–∏:**
1. React.StrictMode + QueryClient + TelegramProvider
2. ErrorBoundary –¥–ª—è production
3. TelegramApp –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
4. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏/—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
5. Setup Wizard (–ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ)
6. –†–æ—É—Ç–∏–Ω–≥ –Ω–∞ –æ—Å–Ω–æ–≤–µ Telegram navigation

### 2. Telegram WebApp –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
**–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∞–π–ª—ã:**
- `src/providers/TelegramProvider.tsx` - –ì–ª–∞–≤–Ω—ã–π –ø—Ä–æ–≤–∞–π–¥–µ—Ä
- `src/hooks/useTelegramWebApp.ts` - –ê–≥—Ä–µ–≥–∞—Ü–∏—è –≤—Å–µ—Ö Telegram —Ñ—É–Ω–∫—Ü–∏–π
- `src/hooks/telegram/useTelegramInit.ts` - –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è WebApp
- `src/services/TelegramProductionService.ts` - Production –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**
- ‚úÖ Theme handling (light/dark)
- ‚úÖ Viewport management
- ‚úÖ MainButton/BackButton
- ‚úÖ HapticFeedback
- ‚úÖ CloudStorage
- ‚úÖ Payments (Invoice API)
- ‚úÖ Lifecycle events
- ‚úÖ Security (CSP, initData validation)

### 3. –°–∏—Å—Ç–µ–º–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:** AuthService ‚Üí UserAuthenticator ‚Üí UserRegistrationManager

**–°–æ—Å—Ç–æ—è–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:**
```typescript
type AuthState = {
  isAuthenticated: boolean;    // –ï—Å—Ç—å Telegram –¥–∞–Ω–Ω—ã–µ
  isRegistered: boolean;       // –ü—Ä–æ—à–µ–ª –ø–æ–ª–Ω—É—é —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é
  user: TelegramUser | null;   // –î–∞–Ω–Ω—ã–µ –∏–∑ Telegram
  registrationStatus: 'idle' | 'checking' | 'registering' | 'success' | 'error';
}
```

**–õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã:**
1. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —á–µ—Ä–µ–∑ `window.Telegram.WebApp.initDataUnsafe.user`
2. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ UserRegistrationService
3. Fallback –Ω–∞ —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –≤–Ω–µ Telegram —Å—Ä–µ–¥—ã
4. Mock Backend –¥–ª—è —Ä–∞–±–æ—Ç—ã –±–µ–∑ —Å–µ—Ä–≤–µ—Ä–∞

### 4. Setup Wizard (–ú–∞—Å—Ç–µ—Ä –Ω–∞—Å—Ç—Ä–æ–π–∫–∏)
**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram Bot —Ç–æ–∫–µ–Ω–∞
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è N8N Webhook URL
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –∫ production

**–§–∞–π–ª—ã:**
- `src/components/setup/SetupWizard.tsx` - –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
- `src/components/setup/TelegramBotSetup.tsx` - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–æ—Ç–∞
- `src/components/setup/N8NSetup.tsx` - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ N8N
- `src/hooks/useSetupWizard.ts` - –õ–æ–≥–∏–∫–∞ –º–∞—Å—Ç–µ—Ä–∞

## ü§ñ N8N –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è

### AutomationManager - –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä —Å–æ–±—ã—Ç–∏–π
**–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Å–æ–±—ã—Ç–∏—è:**
- `user_registered` - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `lesson_completed` - –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —É—Ä–æ–∫–∞
- `test_passed` - –ü—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ —Ç–µ—Å—Ç–∞
- `payment_success` - –£—Å–ø–µ—à–Ω–∞—è –æ–ø–ª–∞—Ç–∞
- `course_completed` - –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –∫—É—Ä—Å–∞
- `user_inactive` - –ù–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### N8NIntegration - HTTP –∫–ª–∏–µ–Ω—Ç –¥–ª—è webhook'–æ–≤
**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º—ã–µ endpoint'—ã:**
```
POST /webhook/user/registered     # –ù–æ–≤–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
POST /webhook/lesson/completed    # –£—Ä–æ–∫ –∑–∞–≤–µ—Ä—à–µ–Ω
POST /webhook/test/passed         # –¢–µ—Å—Ç –ø—Ä–æ–π–¥–µ–Ω
POST /webhook/payment/success     # –ü–ª–∞—Ç–µ–∂ —É—Å–ø–µ—à–µ–Ω
POST /webhook/course/completed    # –ö—É—Ä—Å –∑–∞–≤–µ—Ä—à–µ–Ω
POST /webhook/user/inactive       # –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ–∞–∫—Ç–∏–≤–µ–Ω
```

**–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:**
- ‚úÖ Retry mechanism —Å —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–º backoff
- ‚úÖ Fallback –Ω–∞ Mock —Ä–µ–∂–∏–º –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ N8N
- ‚úÖ Error recovery –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ Graceful degradation - –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ N8N

## üìä –°–∏—Å—Ç–µ–º–∞ –±–µ–∑ –±—ç–∫–µ–Ω–¥–∞ (Mock Backend)

### MockBackendService
**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- ‚úÖ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∞–º–∏
- ‚úÖ –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ localStorage
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π fallback –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö N8N

**–°—Ö–µ–º–∞ –¥–∞–Ω–Ω—ã—Ö:**
```typescript
interface MockUserData {
  user_id: string;
  username?: string;
  full_name: string;
  course_status: 'not_started' | 'in_progress' | 'paused' | 'completed';
  current_lesson: number;
  last_activity: string;
  score: number;
  subscription_status: 'free' | 'premium' | 'vip';
  registration_date: string;
}
```

## üé® –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

### –°–∏—Å—Ç–µ–º–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
**–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ä–æ—É—Ç—ã:**
- `dashboard` - –ì–ª–∞–≤–Ω–∞—è –ø–∞–Ω–µ–ª—å
- `lessons` - –°–ø–∏—Å–æ–∫ —É—Ä–æ–∫–æ–≤
- `lesson-detail` - –î–µ—Ç–∞–ª–∏ —É—Ä–æ–∫–∞
- `test` - –ü—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ —Ç–µ—Å—Ç–∞
- `analytics` - –ë–∞–∑–æ–≤–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
- `advanced-analytics` - –ü—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
- `subscription` - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–æ–π
- `settings` - –ù–∞—Å—Ç—Ä–æ–π–∫–∏
- `payment-success` - –£—Å–ø–µ—à–Ω–∞—è –æ–ø–ª–∞—Ç–∞

### –ö–ª—é—á–µ–≤—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
**Dashboard (`src/pages/Dashboard.tsx`)**
- –ü—Ä–æ–≥—Ä–µ—Å—Å –æ–±—É—á–µ–Ω–∏—è
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è
- –ü–æ—Å–ª–µ–¥–Ω–∏–µ —É—Ä–æ–∫–∏

**Analytics (`src/pages/Analytics.tsx`)**
- –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
- –ì—Ä–∞—Ñ–∏–∫–∏ –æ–±—É—á–µ–Ω–∏—è (Recharts)
- –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

**Settings (`src/components/settings/SettingsPage.tsx`)**
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è N8N webhook URL
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–µ–π
- Production readiness –ø—Ä–æ–≤–µ—Ä–∫–∏

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ Production

### TelegramProductionService
**Production —Ñ—É–Ω–∫—Ü–∏–∏:**
- ‚úÖ Service Worker —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
- ‚úÖ Content Security Policy
- ‚úÖ initData –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤ production
- ‚úÖ Error reporting –≤ Telegram
- ‚úÖ HTTPS –ø—Ä–æ–≤–µ—Ä–∫–∏
- ‚úÖ Environment validation

### BuildValidator
**–ü—Ä–æ–≤–µ—Ä–∫–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**
- ‚úÖ Telegram WebApp API –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å
- ‚úÖ HTTPS –ø—Ä–æ—Ç–æ–∫–æ–ª
- ‚úÖ N8N Webhook –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
- ‚úÖ Mock —Ä–µ–∂–∏–º –æ—Ç–∫–ª—é—á–µ–Ω
- ‚úÖ Service Worker –ø–æ–¥–¥–µ—Ä–∂–∫–∞
- ‚úÖ Environment variables

## üìà –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –º–µ—Ç—Ä–∏–∫–∏

### –°–∏—Å—Ç–µ–º–∞ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏
**–û—Å–Ω–æ–≤–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã:**
- `AnalyticsService.ts` - –û—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–∏—Å
- `LearningAnalytics.ts` - –û–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
- `BehaviorTracker.ts` - –ü–æ–≤–µ–¥–µ–Ω—á–µ—Å–∫–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
- `PerformanceReporter.ts` - –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

**–û—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º—ã–µ —Å–æ–±—ã—Ç–∏—è:**
- ‚úÖ –í—Ä–µ–º—è –Ω–∞ —É—Ä–æ–∫
- ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–æ–≤
- ‚úÖ –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏–∑—É—á–µ–Ω–∏—è
- ‚úÖ –ü–∞—Ç—Ç–µ—Ä–Ω—ã –ø–æ–≤–µ–¥–µ–Ω–∏—è
- ‚úÖ Performance metrics
- ‚úÖ Error tracking

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Node.js & npm ([—É—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å nvm](https://github.com/nvm-sh/nvm#installing-and-updating))
- Telegram Bot Token (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- N8N Instance —Å webhook endpoints (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
git clone <YOUR_GIT_URL>
cd <YOUR_PROJECT_NAME>

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
npm install

# –ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
npm run dev
```

### Environment Variables
–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –Ω–∞ –æ—Å–Ω–æ–≤–µ `.env.example`:

```env
# N8N –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
VITE_N8N_WEBHOOK_URL=https://your-n8n-instance.com/webhook/telegram-edu-app

# Telegram (–¥–ª—è development)
VITE_TELEGRAM_BOT_TOKEN=your_bot_token_here

# Production –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
VITE_APP_ENV=production
VITE_ENABLE_MOCK_MODE=false
VITE_LOG_LEVEL=info
```

### –ö–æ–º–∞–Ω–¥—ã —Å–±–æ—Ä–∫–∏

```bash
npm run build         # Production —Å–±–æ—Ä–∫–∞
npm run build:dev     # Development —Å–±–æ—Ä–∫–∞
npm run preview       # –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä —Å–±–æ—Ä–∫–∏
```

## üéØ –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ Telegram Mini App

### –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º Telegram
- ‚úÖ HTTPS –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–ª—è production
- ‚úÖ –†–∞–∑–º–µ—Ä bundle < 5MB (—Ç–µ–∫—É—â–∏–π ~2MB)
- ‚úÖ –ë—ã—Å—Ç—Ä–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ < 3 —Å–µ–∫—É–Ω–¥
- ‚úÖ –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å –ø–æ–¥ –≤—Å–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
- ‚úÖ Telegram UI guidelines —Å–æ–±–ª—é–¥–µ–Ω—ã
- ‚úÖ Security headers –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram –ø–ª–∞—Ç—Ñ–æ—Ä–º–æ–π
- ‚úÖ `WebApp.ready()` - —Å–∏–≥–Ω–∞–ª –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏
- ‚úÖ `WebApp.expand()` - –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º
- ‚úÖ MainButton/BackButton - –Ω–∞—Ç–∏–≤–Ω—ã–µ –∫–Ω–æ–ø–∫–∏
- ‚úÖ HapticFeedback - —Ç–∞–∫—Ç–∏–ª—å–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å
- ‚úÖ CloudStorage - –æ–±–ª–∞—á–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ Telegram
- ‚úÖ Payments - –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –ø–ª–∞—Ç–µ–∂–∏
- ‚úÖ Theme integration - —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å —Ç–µ–º–æ–π Telegram

## ‚ö° –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- Lazy loading –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- Code splitting –ø–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
- React.memo –¥–ª—è —Ç—è–∂–µ–ª—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- Debounced actions –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –≤–≤–æ–¥–∞
- Local storage caching –¥–ª—è –¥–∞–Ω–Ω—ã—Ö
- Service Worker –¥–ª—è offline —Ä–∞–±–æ—Ç—ã

### –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
**–û—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º—ã–µ –º–µ—Ç—Ä–∏–∫–∏:**
- ‚úÖ App initialization time
- ‚úÖ Page load time
- ‚úÖ Bundle size
- ‚úÖ Memory usage
- ‚úÖ API response time
- ‚úÖ Error rate

## üì± Deployment

### Lovable Platform
–ü—Ä–æ—Å—Ç–æ–π –¥–µ–ø–ª–æ–π —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Lovable:
1. –û—Ç–∫—Ä–æ–π—Ç–µ [Lovable Project](https://lovable.dev/projects/edc32e98-34f5-4b25-a123-a37e7dfea43e)
2. –ù–∞–∂–º–∏—Ç–µ Share ‚Üí Publish

### –ö–∞—Å—Ç–æ–º–Ω—ã–π –¥–æ–º–µ–Ω
–ü–æ–¥–∫–ª—é—á–∏—Ç–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –¥–æ–º–µ–Ω —á–µ—Ä–µ–∑:
Project > Settings > Domains > Connect Domain

–ü–æ–¥—Ä–æ–±–Ω–µ–µ: [Setting up a custom domain](https://docs.lovable.dev/tips-tricks/custom-domain#step-by-step-guide)

## üîß –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∏ –≤–∫–ª–∞–¥

### –°–ø–æ—Å–æ–±—ã —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Lovable:**
–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ [Lovable Project](https://lovable.dev/projects/edc32e98-34f5-4b25-a123-a37e7dfea43e) –∏ –Ω–∞—á–Ω–∏—Ç–µ –ø—Ä–æ–º–ø—Ç—ã.

**–õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞:**
```bash
git clone <YOUR_GIT_URL>
cd <YOUR_PROJECT_NAME>
npm install
npm run dev
```

**GitHub Codespaces:**
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
2. –ù–∞–∂–º–∏—Ç–µ "Code" ‚Üí "Codespaces" ‚Üí "New codespace"

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã
- **Mobile-first –ø–æ–¥—Ö–æ–¥** - –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∞–¥–∞–ø—Ç–∏–≤–Ω—ã
- **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** - –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–æ—Å—Ç—å –∫–æ–¥–∞
- **TypeScript** - —Ç–∏–ø–∏–∑–∞—Ü–∏—è –¥–ª—è –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏
- **–°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–µ —Ç–æ–∫–µ–Ω—ã** - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∏–∑–∞–π–Ω-—Å–∏—Å—Ç–µ–º—ã
- **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - –ª–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞, –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

## üìö –û–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫—É—Ä—Å–∞ "–ú–µ–Ω—Ç–æ—Ä–∏–Ω–≥"
–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–µ–∞–ª–∏–∑—É–µ—Ç –ø–æ–ª–Ω—ã–π –∫—É—Ä—Å –ø–æ –º–µ–Ω—Ç–æ—Ä–∏–Ω–≥—É –∏–∑ 6 —Ç–µ–º:

1. **–ß—Ç–æ —Ç–∞–∫–æ–µ –º–µ–Ω—Ç–æ—Ä–∏–Ω–≥** - –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è, –æ—Ç–ª–∏—á–∏—è –æ—Ç –∫–æ—É—á–∏–Ω–≥–∞
2. **–°—Ç–∞—Ä—Ç –≤ –º–µ–Ω—Ç–æ—Ä–∏–Ω–≥–µ** - –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∏ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–Ω—ã–µ –≤—Å—Ç—Ä–µ—á–∏
3. **–ö–æ–º–ø–µ—Ç–µ–Ω—Ü–∏–∏ –º–µ–Ω—Ç–æ—Ä–∞** - –û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å, —É—Ä–æ–≤–Ω–∏ —Å–ª—É—à–∞–Ω–∏—è
4. **–†–µ–≥—É–ª—è—Ä–Ω—ã–µ –≤—Å—Ç—Ä–µ—á–∏** - –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ –ø–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤–æ–ø—Ä–æ—Å–æ–≤
5. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º** - –†–∞–±–æ—Ç–∞ —Å –±–∞—Ä—å–µ—Ä–∞–º–∏ –∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ
6. **–û—Ç–Ω–æ—à–µ–Ω–∏—è –º–µ–Ω—Ç–æ—Ä-–º–µ–Ω—Ç–∏** - –§–∞–∑—ã —Ä–∞–∑–≤–∏—Ç–∏—è –æ—Ç–Ω–æ—à–µ–Ω–∏–π

### –ú–µ—Ç–æ–¥–æ–ª–æ–≥–∏—è –æ–±—É—á–µ–Ω–∏—è
- –í–∏–¥–µ–æ—É—Ä–æ–∫–∏ —Å –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–º–∏ —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —É—Ä–æ–∫–∞
- –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å–µ—Å—Å–∏–∏
- –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è
- –°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

## ü§ù –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [Lovable Documentation](https://docs.lovable.dev/)
- [Telegram Bot API](https://core.telegram.org/bots/api)
- [N8N Documentation](https://docs.n8n.io/)
- [React Query Docs](https://tanstack.com/query/latest)

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–Ω —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Lovable –∏ —Å–ª–µ–¥—É–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–º –ø—Ä–∞–∫—Ç–∏–∫–∞–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π.

---

*–°–æ–∑–¥–∞–Ω–æ —Å ‚ù§Ô∏è —Å –ø–æ–º–æ—â—å—é [Lovable](https://lovable.dev)*
